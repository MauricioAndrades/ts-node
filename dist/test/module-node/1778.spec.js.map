{"version":3,"file":"1778.spec.js","sourceRoot":"","sources":["../../../src/test/module-node/1778.spec.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,iBAAiB,CAAC;AAC7C,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,8BAA8B,EAAE,gCAAgC,EAAE,MAAM,YAAY,CAAC;AACnH,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,IAAI,EAAE,MAAM,MAAM,CAAC;AAE5B,MAAM,IAAI,GAAG,UAAU,CAAC;IACtB,GAAG,EAAE,QAAQ;CACd,CAAC,CAAC;AAEH,MAAM,IAAI,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AAEhC,IAAI,CAAC,KAAK,CACR,2IAA2I,EAC3I,CAAC,IAAI,EAAE,EAAE;IACP,IAAI,CAAC,EAAE,CAAC,8BAA8B,CAAC,CAAC;IACxC,IAAI,CAAC,MAAM,EAAE,KAAK,IAAI,EAAE;QACtB,MAAM,CAAC,GAAG,MAAM,IAAI,CAAC,GAAG,gCAAgC,aAAa,EAAE;YACrE,GAAG,EAAE,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC;SAC5B,CAAC,CAAC;QACH,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzB,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAC3C,CAAC,CAAC,CAAC;AACL,CAAC,CACF,CAAC","sourcesContent":["import { createExec } from '../helpers/exec';\nimport { ctxTsNode, TEST_DIR, tsSupportsStableNodeNextNode16, CMD_TS_NODE_WITHOUT_PROJECT_FLAG } from '../helpers';\nimport { context, expect } from '../testlib';\nimport { join } from 'path';\n\nconst exec = createExec({\n  cwd: TEST_DIR,\n});\n\nconst test = context(ctxTsNode);\n\ntest.suite(\n  'Issue #1778: typechecker resolver should take importer\\'s module type -- cjs or esm -- into account when resolving package.json \"exports\"',\n  (test) => {\n    test.if(tsSupportsStableNodeNextNode16);\n    test('test', async () => {\n      const r = await exec(`${CMD_TS_NODE_WITHOUT_PROJECT_FLAG} ./index.ts`, {\n        cwd: join(TEST_DIR, '1778'),\n      });\n      expect(r.err).toBe(null);\n      expect(r.stdout).toBe('{ esm: true }\\n');\n    });\n  }\n);\n"]}