{"version":3,"file":"sourcemaps.spec.js","sourceRoot":"","sources":["../../src/test/sourcemaps.spec.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,MAAM,MAAM,QAAQ,CAAC;AACjC,OAAO,EAAE,UAAU,EAAE,gBAAgB,EAAE,6BAA6B,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,WAAW,CAAC;AAC7G,OAAO,EAAE,OAAO,EAAE,MAAM,WAAW,CAAC;AACpC,MAAM,IAAI,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AAEhC,MAAM,IAAI,GAAG,gBAAgB,CAAC;IAC5B,GAAG,EAAE,6BAA6B;IAClC,IAAI,EAAE,UAAU,CAAC;QACf,GAAG,EAAE,QAAQ;KACd,CAAC;CACH,CAAC,CAAC;AAEH,IAAI,CAAC,iIAAiI,EAAE,KAAK,IAAI,EAAE;IACjJ,MAAM,CAAC,GAAG,MAAM,IAAI,CAAC;QACnB,KAAK,EAAE,8CAA8C;KACtD,CAAC,CAAC;IACH,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC;IACzB,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC;QACzC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC;QACjC,MAAM;QACN,MAAM;QACN,MAAM,CAAC,gBAAgB,CAAC,UAAU,CAAC;QACnC,MAAM,CAAC,gBAAgB,CAAC,UAAU,CAAC;QACnC,EAAE;KACH,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import * as expect from 'expect';\nimport { createExec, createExecTester, CMD_TS_NODE_WITH_PROJECT_FLAG, ctxTsNode, TEST_DIR } from './helpers';\nimport { context } from './testlib';\nconst test = context(ctxTsNode);\n\nconst exec = createExecTester({\n  cmd: CMD_TS_NODE_WITH_PROJECT_FLAG,\n  exec: createExec({\n    cwd: TEST_DIR,\n  }),\n});\n\ntest('Redirects source-map-support to @cspotcode/source-map-support so that third-party libraries get correct source-mapped locations', async () => {\n  const r = await exec({\n    flags: `./legacy-source-map-support-interop/index.ts`,\n  });\n  expect(r.err).toBeNull();\n  expect(r.stdout.split('\\n')).toMatchObject([\n    expect.stringContaining('.ts:2 '),\n    'true',\n    'true',\n    expect.stringContaining('.ts:100:'),\n    expect.stringContaining('.ts:101 '),\n    '',\n  ]);\n});\n"]}